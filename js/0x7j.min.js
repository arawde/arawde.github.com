document.querySelector("body.about")&&(document.querySelector(".listening").load=lastfm());document.querySelector("html.history")&&(document.querySelector(".history").load=getLinks());function getLinks(){for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++)a[b].getAttribute("href")&&(a[b].getAttribute("href").match(/http/)||a[b].addEventListener("click",historySetup,!1))}
function historySetup(a){a.preventDefault();var b=document.querySelector("body").getAttribute("class");document.querySelector("body").setAttribute("class",b+" load-out");setTimeout(function(){switcherino(a.target.getAttribute("href"),a.target.getAttribute("title"))},1500);history.pushState(null,a.target.getAttribute("title"),a.target.getAttribute("href"));window.addEventListener("popstate",function(a){switcherino(location.pathname)})}
function switcherino(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);try{d.send(null)}catch(c){console.log("Error:",c.name)}d.onreadystatechange=function(){if(4==d.readyState){var a=document.createElement("div");a.innerHTML=d.responseText;a.setAttribute("class","wrapper");var c=d.responseText.match(/body class="\w*"/)[0].match(/"\w*"/),a=a.querySelector(".wrapper .content").innerHTML;document.querySelector(".content").innerHTML=a;c=c[0].replace(/"/g,"");document.querySelector("body").setAttribute("class",
c+" load-in");document.title=b+" | Avery Alexander Rawden";setTimeout(function(){document.querySelector("body").setAttribute("class",c)},1E3);getLinks();document.querySelector("body.about")&&(document.querySelector(".listening").load=lastfm())}}}
function lastfm(){var a=new XMLHttpRequest;"withCredentials"in a?a.open("GET","http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=nitanima&api_key=61a791127993f3fa48d04ba07efa9bd0&format=json",!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest,a.open("GET","http://ws.audioscrobbler.com/2.0/?method=user.getrecenttracks&user=nitanima&api_key=61a791127993f3fa48d04ba07efa9bd0&format=json")):(a=null,console.log("CORS not supported"));try{a.send(null)}catch(b){console.log("Error:",
b.name)}a.onreadystatechange=function(){if(4==a.readyState){var b=JSON.parse(a.responseText),c=b.recenttracks.track[0]["@attr"]?"<b>Listening to: </b>":"<b>Listens to: </b>",c=c+("<i>"+b.recenttracks.track[0].name+"</i> by "+b.recenttracks.track[0].artist["#text"]+" from <b>"+b.recenttracks.track[0].album["#text"]+"</b>");document.querySelector(".listening").insertAdjacentHTML("beforeend",c)}}}
function lightswitch(){var a=document.querySelector("html"),b=a.getAttribute("class");b.match(/night/)?(b=b.replace(" night",""),a.setAttribute("class",b)):a.setAttribute("class",b+" night")}function mail(){document.querySelector(".mail").setAttribute("href","mailto:arawde@gmail.com")};